# Проект по курсу "Проектирование высоконагруженных систем".

## 1. Тема и целевая аудитория

**Twitch** – это стриминговый сервис, предназначенный для трансляции потоковых видео на игровую тематику. Сервис специализируется на играх — пользователи могут наблюдать за геймплеем, киберспортивными турнирами. Смотреть можно как в прямом эфире, так и в записи.

### Целевая аудитория

По состоянию на август 2023 года Twitch посещает 140 миллионов уникальных пользователей каждый месяц.

Распределение аудитории [3^]

| Страна       | Количество пользователей, млн | процент от общего количества |
| ------------ | ----------------------------- | ---------------------------- |
| США и Канада | 93                            | 36.32%                       |
| Бразилия     | 16.9                          | 6.6%                         |
| Германия     | 16.8                          | 6.56%                        |
| Англия       | 13.4                          | 5.23%                        |
| Франция      | 11.3                          | 4.41%                        |
| Россия       | 10.5                          | 4.1%                         |
| Испания      | 10.5                          | 4.1%                         |
| Аргентина    | 10                            | 3.9%                         |
| Мексика      | 9.2                           | 3.59%                        |
| Италия       | 8.3                           | 3.24%                        |
| Турция       | 7.5                           | 2.92%                        |
| Южная Корея  | 6.7                           | 2.61%                        |
| Польша       | 4.8                           | 1.87%                        |
| Япония       | 4.1                           | 1.6%                         |
| Австралия    | 4.1                           | 1.6%                         |

Большая часть аудитории приходится на Северную Америку — 39.91%. На втором месте Европа — 32.43%. На третьем месте Южная Америка — 10.5%.

### MVP

- Регистрация пользователей
- Проведение/просмотр прямых трансляций
- Подписки на пользователей и уведомления о трансляциях
- Поиск трансляций
- Чат трансляции

## 2. Расчет нагрузки

### Продуктовые метрики

- Месячная аудитория(MAU) — 140 млн пользователей
- Дневная аудитория(DAU) — 31 млн пользователей

Для пользователя храним следующую информацию:

- Аватар
- Никнейм
- Баннер канала
- Описание канала
  Для экономии места можно конвертировать изображения в WebP.
  Итого средний размер хранилища пользователя $\approx 3,5 \; MB$

[Среднее число зрителей, параллельно смотрящих транлсяции — 2.4 млн](https://twitchtracker.com/statistics)

### Среднее количество действий пользователя по типам

| Тип действия             | количество |
| :----------------------- | :--------- |
| Открытие трянсляции      |            |
| Подписка на пользователя |            |
| Отправка сообщения в чат |            |
| Поиск трансляции         |            |

### Технические метрики

- Размер хранения в разбивке по типам данных (в штуках и в Тб) - для существенных блоков данных
- Сетевой трафик
  - Пиковое потребление в теченнии суток (в Гбит/с) - разбивка по существенным типам трафика (для выбора сетевых интерфейсов)
  - Суммарный суточный (Гбайт/сутки) - разбивка по существенным типам трафика (опционально, для подсчета стоимости хостинга)
- RPS в разбивке по типам запросов (запросов в секунду) - для основных запросов

## Источники

[1^]: https://twitchtracker.com/statistics
[2^]: https://www.demandsage.com/twitch-users/
[3^]: https://worldpopulationreview.com/cou1ntry-rankings/twitch-users-by-country
